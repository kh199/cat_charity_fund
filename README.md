# REST API для благотворительного фонда

Каждый пользователь может сделать пожертвование и сопроводить его комментарием. Пожертвования не целевые: они вносятся в фонд, а не в конкретный проект. Каждое полученное пожертвование автоматически добавляется в первый открытый проект, который ещё не набрал нужную сумму. Если пожертвование больше нужной суммы или же в Фонде нет открытых проектов — оставшиеся деньги ждут открытия следующего проекта. При создании нового проекта все неинвестированные пожертвования автоматически вкладываются в новый проект.

### Charity Projects
+ **GET** ```/charity_project/``` Список всех проектов. Для любого посетителя сайта.
+ **POST**   ```/charity_project/```Создание проекта. Только для суперюзеров. 
+ **DELETE**  ```/charity_project/{project_id}``` Только для суперюзеров. Невозможно удалить закрытый проект. Можно удалять только проекты, в которые не было внесено средств.
+ **PATCH** ```/charity_project/{project_id}``` Только для суперюзеров. Невозможно редактировать закрытый проект. Нельзя установить новую требуемую сумму меньше уже внесённой.


### Donations
+ **GET**  ```/donation/``` Cпиcoк всех пожертвований. Только для суперюзеров. 
+ **POST** ```/donation/``` Сделать пожертвование. Для зарегистрированных пользователей
+ **GET**  ```/donation/my``` Список всех пожертвований для текущего пользователя.

Документация доступна по адресу ```http://127.0.0.1:8000/docs```

### Как запустить проект
Клонировать репозиторий и перейти в него в командной строке:

```
git clone https://github.com/kh199/cat_charity_fund
```

Cоздать и активировать виртуальное окружение:
```
python -m venv env
```
```
source venv/scripts/activate
```

Установить зависимости из файла requirements.txt:
```
python -m pip install --upgrade pip
```
```
pip install -r requirements.txt
```

Создать в корне проекта файл ```.env``` по шаблону:
```
APP_TITLE=Благотворительный фонд
DATABASE_URL=sqlite+aiosqlite:///./fastapi.db
SECRET=secret
FIRST_SUPERUSER_EMAIL=superuser@example.com
FIRST_SUPERUSER_PASSWORD=password
```

Запустить приложение:
```
uvicorn app.main:app
```

---
### Стек
+ Python 11
+ FastAPI
+ SQLite


### Автор
**Екатерина Каричева** [kh199](https://github.com/kh199)